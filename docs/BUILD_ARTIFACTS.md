# Accessing Build Artifacts

This guide explains how to access build artifacts generated by GitHub Actions workflows.

## Methods to Access Artifacts

### 1. GitHub Actions UI (Direct)

1. Go to your repository on GitHub
2. Click on the **Actions** tab
3. Select the workflow run you want
4. Scroll down to the **Artifacts** section
5. Click on an artifact to download it

**Direct Link Format:**
```
https://github.com/YOUR_USERNAME/moonlight-qt/actions/runs/RUN_ID
```

### 2. Nightly.link Service (Recommended)

[nightly.link](https://nightly.link) provides direct download links to GitHub Actions artifacts.

#### For Your Fork

Replace `YOUR_USERNAME` with your GitHub username:

**Linux AppImage:**
```
https://nightly.link/YOUR_USERNAME/moonlight-qt/workflows/build/BRANCH_NAME/Moonlight-LinuxAppImage-*.zip
```

**Windows x64:**
```
https://nightly.link/YOUR_USERNAME/moonlight-qt/workflows/build/BRANCH_NAME/Moonlight-windows-2025-x64-*.zip
```

**Windows ARM64:**
```
https://nightly.link/YOUR_USERNAME/moonlight-qt/workflows/build/BRANCH_NAME/Moonlight-windows-2025-arm64-*.zip
```

**macOS:**
```
https://nightly.link/YOUR_USERNAME/moonlight-qt/workflows/build/BRANCH_NAME/Moonlight-macOS-*.zip
```

**Steam Link:**
```
https://nightly.link/YOUR_USERNAME/moonlight-qt/workflows/build/BRANCH_NAME/Moonlight-SteamLink-*.zip
```

#### Example

For branch `cursor/implement-auto-bitrate-checkbox-5ad3`:
```
https://nightly.link/YOUR_USERNAME/moonlight-qt/workflows/build/cursor%2Fimplement-auto-bitrate-checkbox-5ad3/Moonlight-LinuxAppImage-*.zip
```

**Note:** Replace `/` in branch names with `%2F` in URLs.

### 3. GitHub API

You can also access artifacts programmatically via the GitHub API:

```bash
# Get workflow run ID from Actions page, then:
curl -H "Accept: application/vnd.github+json" \
     -H "Authorization: Bearer YOUR_TOKEN" \
     https://api.github.com/repos/YOUR_USERNAME/moonlight-qt/actions/runs/RUN_ID/artifacts
```

### 4. Artifact Retention

GitHub Actions artifacts are retained for:
- **90 days** for public repositories
- **400 days** for GitHub Enterprise Cloud

After this period, artifacts are automatically deleted.

## Quick Reference

### Find Your Artifacts

1. **From PR**: If the workflow runs on a PR, check the PR comments or the "Checks" tab
2. **From Branch**: Go to Actions tab → Select workflow → Select run → Artifacts section
3. **From Commit**: Click on the checkmark/X icon next to commit → View workflow run → Artifacts

### Artifact Names

The workflows create artifacts with these names:
- `Moonlight-LinuxAppImage-{VERSION}`
- `Moonlight-SteamLink-{VERSION}`
- `Moonlight-windows-2025-x64-{VERSION}`
- `Moonlight-windows-2025-arm64-{VERSION}`
- `Moonlight-macOS-{VERSION}`
- `zDevDbgSyms-windows-2025-{VERSION}` (debug symbols)
- `zDevDbgSyms-macOS-{VERSION}` (debug symbols)

Where `{VERSION}` is the first 6 characters of the commit SHA.

## Troubleshooting

### Artifacts Not Showing

- **Check workflow completed successfully**: Artifacts are only created on successful runs
- **Wait a few minutes**: Artifact upload happens after the build completes
- **Check permissions**: Ensure you have access to view the repository

### Download Issues

- **Large files**: Some artifacts (especially Windows/macOS) can be large (100MB+)
- **Browser timeout**: For very large files, use a download manager or curl/wget
- **Nightly.link timeout**: If nightly.link times out, use the GitHub Actions UI directly

### Branch Name Encoding

When using nightly.link with branch names containing `/`:
- Replace `/` with `%2F`
- Example: `cursor/feature` → `cursor%2Ffeature`

## Automation

### Badge/Status Links

You can create badges showing build status:

```markdown
![Build](https://github.com/YOUR_USERNAME/moonlight-qt/actions/workflows/build.yml/badge.svg)
```

### Direct Download Script

Create a script to download artifacts:

```bash
#!/bin/bash
REPO="YOUR_USERNAME/moonlight-qt"
BRANCH="your-branch-name"
BRANCH_ENCODED=$(echo "$BRANCH" | sed 's/\//%2F/g')

# Download AppImage
curl -L "https://nightly.link/${REPO}/workflows/build/${BRANCH_ENCODED}/Moonlight-LinuxAppImage-*.zip" -o appimage.zip
```

## See Also

- [GitHub Actions Documentation](https://docs.github.com/en/actions/using-workflows/storing-workflow-data-as-artifacts)
- [nightly.link Documentation](https://github.com/getsentry/nightly.link)
- [BUILD.md](BUILD.md) - Local build instructions
